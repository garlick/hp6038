#summary Protocol

== Read Cycle ==

http://hp6038frontpanel.googlecode.com/svn/wiki/print_001.png

This shows a read I/O cycle between GPIB board and front panel.
The _foldback_ button is depressed.

*D3* is DATA_UP (uninverted, front panel -> GPIB board)

*D2* is DATA_DOWN' (inverted, GPIB board -> front panel)

*D1* is D/A'

*D0* is IO_CLOCK'

First 8 bits of address are written MSB first (D/A=L).
Here the address is 0x12 (RPG/pushbuttons register).

Next 8 bits of data are read MSB first (D/A=H).
Here the data is 0xbf.  The single bit that is off corresponds to the
depressed foldback button (bit 6 of U11).

The read is distinguished from the write by address.
0x12 is the only read address.

Note that the IO_CLOCK runs at about *500 KHz* and that there is about
*5 uS* between the last IO_CLOCK pulse and the transition of D/A' from
low to high.

== Write Cycle ==

http://hp6038frontpanel.googlecode.com/svn/wiki/print_002.png

This shows a write I/O cycle between GPIB board and front panel.

*D3* is DATA_UP (uninverted, front panel -> GPIB board)

*D2* is DATA_DOWN' (inverted, GPIB board -> front panel)

*D1* is D/A'

*D0* is IO_CLOCK'

First 8 bits of address are written MSB first (D/A=L).
Here the address is 0x11 (second mode indicator register).

Next 8 bits of data are read MSB first (D/A=H).
Here the data is 0xfd.  The single bit that is off corresponds to the
illuminated _current_ indicator (bit 1 of U10).
